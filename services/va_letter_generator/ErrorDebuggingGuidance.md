# Error Debugging Guidance

There are 3 types of processing errors an API consumer may see when the service and the network are up and running but the transaction cannot be completed.
- Type 1: At least 1 of the interfacing systems required to determine eligibility or produce letters did not respond successfully. These errors will have HTTP response code 500.
- Type 2: All systems have responded but critical data is missing or invalid. These errors will have HTTP response code 422.
- Type 3: Medicare Part D or minimum essential coverage letters for which the Veteran is eligible are not being produced. No error message was generated. 

| Error Type | Error Message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Description of Error                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Recommended Next Steps                                                                                                                                                                                                                                                                                                        |
|:-----------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-connection-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Backend Connection Error", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"status": 500, <br/> &nbsp;&nbsp;&nbsp;&nbsp;"detail": "Backend Service Error \<service name>", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"instance": "11dcf8e5-d0c8-4a59-848c-8df0e2b6dcbd", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload": "\<long string>" <br/>} | One or more of the  systems this API connects with is not responding successfully: <p> - BGS (Benefits Gateway Services) <br/>- VIERS (Veterans Information/Eligibility Reporting System) <br/>- MPI (Master Patient Index) <br/>- VA PROFILE </p>                                                                                                                                                                                                                                                                                                                                                                       | This issue needs triage support and the Veteran should try their request again later. We monitor for these errors and will work with and/or troubleshoot the system should the problem continue to occur. <br><br> Persistent or prolonged errors are reported on our [API status page](https://valighthouse.statuspage.io/). |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-data-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Data Error",<br>&nbsp;&nbsp;&nbsp;&nbsp;"status": 422,<br>&nbsp;&nbsp;&nbsp;&nbsp;"detail": "Missing Address Data \<field name>",<br>&nbsp;&nbsp;&nbsp;&nbsp;"instance": "cc601273-a635-409f-949f-c8f4e603d104", <br>&nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload": "\<long string>" <br>}                                    | Missing address data related to at least one of these VA Profile fields:<p>&nbsp;&nbsp;&nbsp;&nbsp;- At least one Address exists<br>&nbsp;&nbsp;&nbsp;&nbsp;- AddressLine1<br>&nbsp;&nbsp;&nbsp;&nbsp;- City<br>&nbsp;&nbsp;&nbsp;&nbsp;- ZipCode5<br>&nbsp;&nbsp;&nbsp;&nbsp;- stateCode<br>&nbsp;&nbsp;&nbsp;&nbsp;- countryName - if international<br>&nbsp;&nbsp;&nbsp;&nbsp;- AddressType in {Domestic, International, Overseas Military}</p>                                                                                                                                                                       | The Veteran should update their address on VA Profile.                                                                                                                                                                                                                                                                        |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-data-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Data Error", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"status": 422, <br/> &nbsp;&nbsp;&nbsp;&nbsp;"detail": "Missing Identifier Data \<field name>", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"instance": "cc601273-a635-409f-949f-c8f4e603d104", <br/> &nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload": "\<long string>" <br/>}                     | <p>Missing Veteran data related to Benefits Gateway Services (BGS) Vet Record Service.<br>This error is most likely related to a missing or invalid home phone or date of birth (DOB).</p><p>Other possibilities include: <br>&nbsp;&nbsp;&nbsp;&nbsp;- Services need to be associated with Veteran<br>&nbsp;&nbsp;&nbsp;&nbsp;- Branch of service<br>&nbsp;&nbsp;&nbsp;&nbsp;- CHAROFSVCCODE<br>&nbsp;&nbsp;&nbsp;&nbsp;- Entered on duty date<br>&nbsp;&nbsp;&nbsp;&nbsp;- Released active duty date<br>&nbsp;&nbsp;&nbsp;&nbsp;- BirlsRecord exists without a valid released active duty date & branch of service</p> | First, the Veteran should confirm that all of their personal data is correct on VA Profile.<br>If their data is correct on VA Profile, then your support team will need to engage MPI to troubleshoot the Veteran's identifiers.                                                                                              |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-data-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Data Error", <br>&nbsp;&nbsp;&nbsp;&nbsp;"status": 422, <br>&nbsp;&nbsp;&nbsp;&nbsp;"detail": "Missing Veteran Data \<field name>", <br>&nbsp;&nbsp;&nbsp;&nbsp;"instance": "cc601273-a635-409f-949f-c8f4e603d104", <br>&nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload": "\<long string>"<br>}                                  | Missing Veteran data related to Benefits Gateway Services (BGS) Vet Record Service.<br>This error is most likely related to a missing or invalid home phone or date of birth (DOB). <p>Other possibilities include: <br>&nbsp;&nbsp;&nbsp;&nbsp; - Services need to be associated with Veteran<br>&nbsp;&nbsp;&nbsp;&nbsp; - Branch of service<br>&nbsp;&nbsp;&nbsp;&nbsp; - CHAROFSVCCODE<br>&nbsp;&nbsp;&nbsp;&nbsp; - Entered on duty date<br>&nbsp;&nbsp;&nbsp;&nbsp; - Released active duty date<br>&nbsp;&nbsp;&nbsp;&nbsp; - BirlsRecord exists without a valid released active duty date & branch of service</p> | First, the Veteran should confirm that all of their personal data is correct on VA Profile.<br>If their data is correct on VA Profile, then your support team will need to engage VA Profile to troubleshoot the Veteran's identifiers.                                                                                       |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-data-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Data Error", <br>&nbsp;&nbsp;&nbsp;&nbsp;"status": 422, <br>&nbsp;&nbsp;&nbsp;&nbsp;"detail": "Missing Rating Data \<field name>", <br>&nbsp;&nbsp;&nbsp;&nbsp;"instance": "cc601273-a635-409f-949f-c8f4e603d104", <br>&nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload": "\<long string>"<br>}                                   | Missing rating data related to Benefits Gateway Services (BGS) rating service.<br>Errors may be related to DisabilityRecord â†’ Future Exam Date.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | First, the Veteran should confirm that all of their personal data is correct on the application they are interfacing with.<br>If their data is correct, then your support team will need to engage the application to troubleshoot the Veteran's information                                                                  |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/va-letter-generator/errors/required-data-exception", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Required Data Error", <br>&nbsp;&nbsp;&nbsp;&nbsp;"status": 422, <br>&nbsp;&nbsp;&nbsp;&nbsp;"detail": "Missing Required Data \<field name>", <br>&nbsp;&nbsp;&nbsp;&nbsp;"instance": "cc601273-a635-409f-949f-c8f4e603d104", <br>&nbsp;&nbsp;&nbsp;&nbsp;"debuggingPayload":"\<long string>" <br>}                                 | Other missing required data. This message is returned for data errors related to fields or services not specified in other error messages.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | We can investigate the debuggingPayload and application logs for the UUID in the error response. Reach out to us using [our support page](https://developer.va.gov/support/contact-us) to let us know about the issue.                                                                                                        |
| 2          | {<br>&nbsp;&nbsp;&nbsp;&nbsp;"type": "https://api.va.gov/services/letters/v1/api-schema/errors/bad-request", <br>&nbsp;&nbsp;&nbsp;&nbsp;"title": "Bad Request", <br>&nbsp;&nbsp;&nbsp;&nbsp;"status": 400, <br>&nbsp;&nbsp;&nbsp;&nbsp;"detail": "Person is not eligible for the requested letter type: minimum_essential_coverage", <br>&nbsp;&nbsp;&nbsp;&nbsp;"instance": "bb350237-e800-11ec-b392-2b55a120d4f8"<br>}                                                                        | 400 response - not eligible for a letter they requested. <p>This rarely occurs unless the Veteran is requesting a letter they are not eligible for. If they are eligible for the letter yet still receive this error, it could be caused by:<br>&nbsp;&nbsp;&nbsp;&nbsp;- Missing general information<br>&nbsp;&nbsp;&nbsp;&nbsp;- Missing other award information<br>&nbsp;&nbsp;&nbsp;&nbsp;- Missing ancillary decisions data<br>&nbsp;&nbsp;&nbsp;&nbsp;- A dependency system going down between the time of the initial eligibility check and the generate pdf call</p>                                             | You should confirm the Veteran is eligible for the letter being requested. If they are eligible for the letter, have the Veteran retry their request at another time. If the error persists, reach out to us using [our support page](https://developer.va.gov/support/contact-us) to let us know about the issue.            |
| 3          | No error message generated, but Medicare Part D or minimum essential coverage letters for which the Veteran is eligible are not being produced.                                                                                                                                                                                                                                                                                                                                                  | The only piece of data from Veterans Information/Eligibility Reporting System **(VIERS)** the API uses is the *ResponseCode* from the *AcaVerificationResponse*.<p>This is used to determine eligibility for Medicare Part D and minimum essential coverage letters. If the data is missing, the API won't be able to determine eligibility for or generate those letters, but the overall service will remain running and can provide other letters.</p>                                                                                                                                                                | If the Veteran is looking for the Medicare Part D or minimum essential coverage letters and they are not showing as available, you must verify that the value in VIERS is accurate.                                                                                                                                           |
